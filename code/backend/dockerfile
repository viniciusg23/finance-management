FROM openjdk:17-jdk

ARG DB_ENDPOINT
ARG DB_USERNAME
ARG DB_PASSWORD
ARG DB_NAME
ARG JWT_SECRET
ARG SPRING_PROFILE
ARG AWS_ACCESS_KEY
ARG AWS_SECRET_KEY

ENV DB_ENDPOINT=${DB_ENDPOINT}
ENV DB_USERNAME=${DB_USERNAME}
ENV DB_PASSWORD=${DB_PASSWORD}
ENV DB_NAME=${DB_NAME}
ENV JWT_SECRET=${JWT_SECRET}
ENV SPRING_PROFILE=${SPRING_PROFILE}
ENV AWS_ACCESS_KEY=${AWS_ACCESS_KEY}
ENV AWS_SECRET_KEY=${AWS_SECRET_KEY}

COPY target/finance-management-3.2.4.jar finance-management-application.jar

ENTRYPOINT ["java", "-jar", "finance-management-application.jar"]